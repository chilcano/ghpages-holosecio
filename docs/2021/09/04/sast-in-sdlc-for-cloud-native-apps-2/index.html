<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> SAST in your SDLC for Cloud-Native Apps 2 | Holistic Security</title>
  <meta name="description" content="With The Systems Thinking Methodology we are able to see any problem in a complete and holistic manner, in fact, The Systems Thinking Methodology allows us to solve complex problems (IT Security, Global Warming, World Poverty, etc.) by considering new factors, elements and variables (usability, trust, quality, risk, etc.) which were not considered initially.">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta property="og:title" content="SAST in your SDLC for Cloud-Native Apps 2" />
<meta property="og:description" content="Unlike the previous post, this post will implement a Jenkins Pipeline for a Full Stack Cloud-Native Application. That means the Jenkins Pipeline
will include new Jenkins stages to statically analyze the Python, Golang and YAML code, in addition to the already analyzed Infrastructure as Code (Terraform, Kubernetes, Ansible, CloudFormation, Dockerfiles, etc).
This post will also explain how to consolidate all vulnerabilities/issues/bugs found and reports generated by all SAST Tools and Linters used in the CI/CD Pipeline.








    
    

        
            
        

    



A SAST Jenkins Pipeline for a Full Stack Cloud Native Application

" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://holisticsecurity.io/2021/09/04/sast-in-sdlc-for-cloud-native-apps-2/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2021-09-04T10:00:10&#43;02:00" />
<meta property="article:modified_time" content="2021-09-04T10:00:10&#43;02:00" />


  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="SAST in your SDLC for Cloud-Native Apps 2"/>
<meta name="twitter:description" content="Unlike the previous post, this post will implement a Jenkins Pipeline for a Full Stack Cloud-Native Application. That means the Jenkins Pipeline
will include new Jenkins stages to statically analyze the Python, Golang and YAML code, in addition to the already analyzed Infrastructure as Code (Terraform, Kubernetes, Ansible, CloudFormation, Dockerfiles, etc).
This post will also explain how to consolidate all vulnerabilities/issues/bugs found and reports generated by all SAST Tools and Linters used in the CI/CD Pipeline.








    
    

        
            
        

    



A SAST Jenkins Pipeline for a Full Stack Cloud Native Application

"/>

  
  
    
  
  
  <link rel="stylesheet" href="https://holisticsecurity.io/css/style-white.css">
  
  
  
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
<link rel="icon" type="image/png" href="https://holisticsecurity.io/images/favicon.ico" />

  
  
  
  
  
    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-156433649-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
  
  

  <link rel="stylesheet" href="https://holisticsecurity.io/css/custom-cactus-style-white.css">
</head>

<body class="max-width mx-auto px3 ltr">
  <div class="content index py4">

    <header id="header">
  <a href="https://holisticsecurity.io/">
  
    <div id="logo" style="background-image: url(https://holisticsecurity.io/images/logo.png)"></div>
  
  <div id="title">
    <h1>Holistic Security</h1>
  </div>
  </a>
  <div id="nav">
    <ul>
      <li class="icon">
        <a href="#"><i class="fas fa-bars fa-2x"></i></a>
      </li>
      
        <li><a href="/">Home</a></li>
      
        <li><a href="/post">Blog</a></li>
      
        <li><a href="/taxonomy">Taxonomy</a></li>
      
        <li><a href="/about">About</a></li>
      
    </ul>
  </div>
</header>



    
<article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  
  <h1 class="posttitle" itemprop="name headline"> SAST in your SDLC for Cloud-Native Apps 2 </h1>

  <ul class="post-list">  
      <li class="post-item">
        <div class="meta">
          <time datetime="2021-09-04 10:00:10 &#43;0200 CEST" itemprop="datePublished">2021-09-04</time>
        </div>
        <span>    
          
          
          <div class="article-category">
              
              
              <a class="category-link" href="/categories/cloud">Cloud</a>
              
               路 
              <a class="category-link" href="/categories/sdlc">SDLC</a>
              
               路 
              <a class="category-link" href="/categories/devsecops">DevSecOps</a>
              
               路 
              <a class="category-link" href="/categories/holism">Holism</a>
              
              路 
          </div>
          
          
          <div class="article-tag">
              
              
              <a class="tag-link" href="/tags/sast" rel="tag">SAST</a>
              
          </div>
          
  
        </span>
      </li>  
    </ul>

  <div class="content" itemprop="articleBody">
  
    <p>Unlike <a href="/2021/07/06/sast-in-sdlc-for-cloud-native-apps/">the previous post</a>, this post will implement a Jenkins Pipeline for a Full Stack Cloud-Native Application. That means the Jenkins Pipeline
will include new Jenkins stages to statically analyze the Python, Golang and YAML code, in addition to the already analyzed Infrastructure as Code (Terraform, Kubernetes, Ansible, CloudFormation, Dockerfiles, etc).<br>
This post will also explain how to consolidate all vulnerabilities/issues/bugs found and reports generated by all SAST Tools and Linters used in the CI/CD Pipeline.</p>
<p>







    
    

        <a href="/media/assets/blog20210904_sast_2/20210904-sast-in-your-cicd-pipeline-full-stack-apps.png">
            <img 
                style="float: left; margin-right: 1%; margin-bottom: 0.5em; max-width: 100%; width: auto; height: auto;" 
                src="/media/assets/blog20210904_sast_2/20210904-sast-in-your-cicd-pipeline-full-stack-apps_hu2a2302e36b0faf5fefd1edbb3f86232c_159418_710x0_resize_box_2.png" 
                width="710" height="268" 
                alt="">
        </a>

    



<i><center>A SAST Jenkins Pipeline for a Full Stack Cloud Native Application</center></i>

</p>
<h2 id="extra-sast-tools-and-linters-used">Extra SAST Tools and Linters used</h2>
<p>In this Jenkins Pipeline I am going to use the following SAST Tools/Linters:</p>
<ol>
<li>Yaml Linter: <a href="https://github.com/adrienverge/yamllint">yamllint</a></li>
<li>Golang Linter: <a href="https://github.com/golangci/golangci-lint">golangci-lint</a></li>
<li>Python Linter: <a href="https://www.pylint.org">Pylint</a></li>
<li>IaC (Terraform, K8s, CloudFormation, Dockerfiles, etc): <a href="https://github.com/checkmarx/kics">Kics</a>, already used in the <a href="/2021/07/06/sast-in-sdlc-for-cloud-native-apps/">previous post</a></li>
</ol>
<h2 id="extra-jenkins-plugins-used">Extra Jenkins Plugins used</h2>
<p>Also, these Jenkins Plugins:</p>
<ol>
<li><a href="https://www.jenkins.io/doc/pipeline/steps/core">archiveArtifacts</a>: required to archive build artifacts (war, zip or jar) so that they can be downloaded later. In our case, I&rsquo;ll archive reports.</li>
<li><a href="https://www.jenkins.io/doc/pipeline/steps/htmlpublisher">publishHTML</a>: required to publish HTML documents in Jenkins as a webserver. In our case, I&rsquo;ll publish Kics' report.</li>
<li><a href="https://www.jenkins.io/doc/pipeline/steps/warnings-ng">Warnings-NG / recordIssues / tools: yamlLint, pyLint and goLint</a>: similar to <code>publishHTML</code>, but in this case I&rsquo;ll import XML and Json reports and publish as HTML.</li>
</ol>
<p>If you want to add more Linters because you added Java and NodeJS code, then you can find other linters in this list: <a href="/2020/02/10/security-along-the-container-based-sdlc/#oss-sec-list">Security along the SDLC for Cloud-Native Apps</a>.</p>
<h2 id="integrating-sast-in-the-jenkins-pipeline-for-a-full-stack-application">Integrating SAST in the Jenkins Pipeline for a Full Stack Application</h2>
<p>Now, let&rsquo;s create a new Pipeline, then copy the content of <a href="../simple-ec2/_scripts/sast-pipeline-full-stack.groovy"><code>simple-ec2/_scripts/sast-pipeline-full-stack.groovy</code></a> into Jenkins as a new Pipeline from Jenkins UI.</p>
<p>Once the new Pipeline has been created, you should click over <em>Build with Parameters</em> and enter a Git repository URL to be scanned by all above Linters, even Kics.<br>
Some example Git repositories:</p>
<ul>
<li><a href="https://github.com/chilcano/aws-cdk-examples.git">AWS-CDK-Examples</a>: A set of samples I used to experiment with AWS CDK. It contains Golang, Python, TypeScript, Dockerfile and YAML files.</li>
<li><a href="https://github.com/Hardw01f/vulnerability-goapp.git">Vulnerability-Goapp</a>: A vulnerable golang Web application for education.</li>
<li><a href="https://github.com/bridgecrewio/terragoat.git">TerraGoat</a>: It is a &ldquo;Vulnerable by Design&rdquo; Terraform repository.</li>
<li><a href="https://github.com/microservices-demo/microservices-demo.git">Sock Shop</a>: It is a Microservice Demo Application.</li>
</ul>
<p>Once the pipeline is running, you will see 4 new links in the Jenkins user interface sidebar, each of them being links to each Report that each SAST Tool or Linter has generated.</p>
<p>







    
    

        <a href="/media/assets/blog20210904_sast_2/20210904-sast-in-your-cicd-pipeline-full-stack-2-aggregate-reports.png">
            <img 
                style="float: left; margin-right: 1%; margin-bottom: 0.5em; max-width: 100%; width: auto; height: auto;" 
                src="/media/assets/blog20210904_sast_2/_hue94506cca10a1a136055348f30767964_521274_5b0f9ca61097144ec9c0cf948b5c5b1a.png" 
                width="310" height="195" 
                alt="Aggregated Reports">
        </a>

    









    
    

        <a href="/media/assets/blog20210904_sast_2/20210904-sast-in-your-cicd-pipeline-full-stack-3-report-yamllint.png">
            <img 
                style="float: left; margin-right: 1%; margin-bottom: 0.5em; max-width: 100%; width: auto; height: auto;" 
                src="/media/assets/blog20210904_sast_2/_huc590697f51fb8ef22a895fd609731f7c_317701_d74ced1c021180420e989ccdbd7992ed.png" 
                width="310" height="193" 
                alt="Yaml Lint Report">
        </a>

    
</p>
<p>







    
    

        <a href="/media/assets/blog20210904_sast_2/20210904-sast-in-your-cicd-pipeline-full-stack-4-report-pylint.png">
            <img 
                style="float: left; margin-right: 1%; margin-bottom: 0.5em; max-width: 100%; width: auto; height: auto;" 
                src="/media/assets/blog20210904_sast_2/_hud42d7e902d33021349d42f8b43ce9eb3_276680_c5e9c38708f0775d51c23615abc46085.png" 
                width="310" height="193" 
                alt="Pylint Report">
        </a>

    









    
    

        <a href="/media/assets/blog20210904_sast_2/20210904-sast-in-your-cicd-pipeline-full-stack-5-report-golint.png">
            <img 
                style="float: left; margin-right: 1%; margin-bottom: 0.5em; max-width: 100%; width: auto; height: auto;" 
                src="/media/assets/blog20210904_sast_2/_hu3eb643956d8a416f4e13aa3ae4618d19_259488_0ca05be0584d330f5960f5f8519c05ab.png" 
                width="310" height="180" 
                alt="Golint Report">
        </a>

    
</p>
<blockquote>
<p>If you want to create this pipeline step by step, I recommend you follow this guide:
<a href="https://github.com/chilcano/aws-cdk-examples/tree/main/simple-ec2">https://github.com/chilcano/aws-cdk-examples/tree/main/simple-ec2</a></p>
</blockquote>
<h2 id="conclusions">Conclusions</h2>
<ol>
<li>Not all Projects are the same, you will need to know and identify the most appropriate SAST tools and Linter to build your CI/CD Pipelines with Static Security scanning tasks embedded.</li>
<li>Consider standardising all SAST Tools and Linter Reports and findings on a single platform. Here I&rsquo;ve used <a href="https://www.jenkins.io/doc/pipeline/steps/warnings-ng">Jenkins Warnings-NG</a>, which you can have a look at.</li>
<li>You should be aware that this (SAST) is only a part of DevSecOps. DAST, IASP, etc. have yet to be implemented. However, at this point, your Cloud-Native Projects are already more secure.</li>
</ol>
<h2 id="references">References</h2>
<ol>
<li><a href="/2020/02/10/security-along-the-container-based-sdlc/#oss-sec-list">Security along the SDLC for Cloud-Native Apps</a> - Posted on 2020/02/10</li>
<li><a href="/2021/07/06/sast-in-sdlc-for-cloud-native-apps/">SAST in your SDLC for Cloud-Native Apps - Part 1</a></li>
</ol>
  
  </div>
</article>


    <footer id="footer">
  <div class="footer-left">
    Copyright  &copy; 2021  Holistic Security 
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/post">Blog</a></li>
         
        <li><a href="/taxonomy">Taxonomy</a></li>
         
        <li><a href="/about">About</a></li>
        
      </ul>
    </nav>
  </div>
</footer>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-156433649-1', 'auto');
	
	ga('send', 'pageview');
}
</script>


  </div>
</body>

<link rel="stylesheet" href=/lib/font-awesome/css/all.min.css>
<script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>
</html>
